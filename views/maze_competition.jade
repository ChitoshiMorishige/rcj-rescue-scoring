//- -*- tab-width: 2 -*-
extends includes/layout

block vars
  - var ngAppDef = 'MazeCompetition'

append scripts
  script.
    var competitionId = "#{id}"
  script(src='/javascripts/maze_competition.js')

block location
  a(href='/home' style="color:#333333") Home
  | >
  a(href='/maze' style="color:#333333") Maze
  | >
  a(ng-href='/maze/{{competitionId}}' style="color:#333333") {{competition.name}}

block content
  .row
    .col-md-offset-2.col-md-8
      a(ng-href='/maze/{{competitionId}}/score') Score

      h1 Runs
      table
        tr(ng-repeat="run in runs| orderBy:['round.name','field.name']")
          td(ng-bind='run.round.name')
          td(ng-bind='run.team.name')
          td(ng-bind='run.field.name')
          td
            a(ng-href="/maze/view/{{run._id}}") View
          td
            a(ng-href="/maze/judge/{{run._id}}") Judge
