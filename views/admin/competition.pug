//- -*- tab-width: 2 -*-
extends ../includes/layout

block vars
  - var ngAppDef = 'CompetitionAdmin'

append scripts
  script.
    var competitionId = "#{id}"
  script(src='/javascripts/admin/competition.js')

block location
    a.breadcrumb-item(ng-click="go('/home')") Home
    a.breadcrumb-item(ng-click="go('/admin')") Admin
    span.breadcrumb-item.active {{competition.name}}


block content
  .row
    .col-md-1
    .col-md-10
      h1 {{"admin.competition.title" | translate}} - {{competition.name}}
      hr
      h3 {{"admin.competition.common" | translate}}
      .row 
        .col-md-4
          button(ng-click="go('/admin/' + competitionId + '/teams')" class='btn btn-outline-dark btn-lg btn-block' style="margin-bottom:10px;")
            i.fas.fa-user-friends.fa-2x 
            br
            span {{"admin.competition.teams" | translate}}
        .col-md-4
          button(ng-click="go('/admin/' + competitionId + '/rounds')" class='btn btn-outline-dark btn-lg btn-block' style="margin-bottom:10px;")
            i.fas.fa-list-ol.fa-2x 
            br
            span {{"admin.competition.rounds" | translate}}
        .col-md-4
          button(ng-click="go('/admin/' + competitionId + '/fields')" class='btn btn-outline-dark btn-lg btn-block' style="margin-bottom:10px;")
            i.fas.fa-map-pin.fa-2x 
            br
            span {{"admin.competition.fields" | translate}}

      hr
      .row
        div(ng-repeat="league in leagues" class="col-md-6 col-lg-4")
          .card(style='width: 100%;margin-bottom:20px;')
              a
                img.card-img-top(ng-src="/images/leagues/{{leagueImage(league)}}.png" style="width:100%; height:auto;")
              .card-body(style="z-index: 2;")
                h3.card-title {{league.name}}
                button(ng-disabled="league.type == 'simulation'" ng-click="go('/admin/' + competitionId + '/' + league.id + '/maps')" class='btn btn-dark btn-lg btn-block' style="margin-bottom:10px;")
                  i.fas.fa-ruler-combined.fa-2x
                  br
                  span {{"admin.competition.maps" | translate}}
                button(ng-click="go('/admin/' + competitionId + '/' + league.id + '/games')" class='btn btn-dark btn-lg btn-block' style="margin-bottom:10px;")
                  i.fas.fa-clipboard-list.fa-2x
                  br
                  span {{"admin.competition.runs" | translate}}
              .card-img-overlay.text-right
                span.badge.badge-info(style="font-size: 15px;") {{league.rule}}
      hr
      h3 {{"admin.competition.tools" | translate}}
      .row
        .col-md-3(style="margin-bottom:30px;")
          button(ng-click="go('/admin/' + competitionId + '/documents')" class='btn btn-outline-dark btn-lg btn-block' style="height:100%;")
            i.fas.fa-file-alt.fa-2x
            br
            span {{"document.admin.title" | translate}}
        if mailEnable
          .col-md-3(style="margin-bottom:30px;")
            button(ng-click="go('/admin/' + competitionId + '/mails')" class='btn btn-outline-dark btn-lg btn-block' style="height:100%;")
              i.fas.fa-mail-bulk.fa-2x
              br
              span {{"mail.home.title" | translate}}
          .col-md-3(style="margin-bottom:30px;")
            button(ng-click="go('/admin/' + competitionId + '/registration')" class='btn btn-outline-dark btn-lg btn-block' style="height:100%;")
              i.fas.fa-pen-fancy.fa-2x
              br
              span {{"registration.title" | translate}}
        .col-md-3(style="margin-bottom:30px;")
          button(ng-click="go('/admin/' + competitionId + '/reservation')" class='btn btn-outline-dark btn-lg btn-block' style="height:100%;")
            i.fas.fa-calendar-day.fa-2x
            br
            span {{"reservation.title" | translate}}
        .col-md-3(style="margin-bottom:30px;")
          button(ng-click="go('/admin/' + competitionId + '/cabinet')" class='btn btn-outline-dark btn-lg btn-block' style="height:100%;")
            i.fas.fa-folder.fa-2x
            br
            span {{"cabinet.title" | translate}}
        .col-md-3(style="margin-bottom:30px;")
          button(ng-click="go('/admin/' + competitionId + '/survey')" class='btn btn-outline-dark btn-lg btn-block' style="height:100%;")
            i.far.fa-question-circle.fa-2x
            br
            span {{"survey.title" | translate}}
      hr
      h3 {{"admin.competition.management" | translate}}
      .row 
        .col-md-3(style="margin-bottom:10px;")
          button(ng-click="go('/admin/' + competitionId + '/settings')" class='btn btn-outline-dark btn-lg btn-block')
            i.fas.fa-cogs.fa-2x 
            br
            span {{"admin.competition.settings" | translate}}
        .col-md-3(style="margin-bottom:10px;")
          button(ng-click="go('/admin/' + competitionId + '/backup')" class='btn btn-outline-dark btn-lg btn-block')
            i.fas.fa-archive.fa-2x 
            br
            span {{"admin.competition.backup" | translate}}
      
      br


